<div class="row">
  <div class="" style="padding: 2%;">
  <h2 class="text-center">Cat√°logo Grupos</h2>
  <hr>
  <div class="btn-group btn-group-justified">
    <a class="btn btn-success" data-toggle="modal" data-target="#myModal"><i class="fa fa-plus"></i> Registrar Grupo</a>
  </div>
  <hr>
  
  <div class="input-group md-form form-sm form-2 pl-0">
    <input class="form-control my-0 py-1 grey-border" type="text" placeholder="Buscar" aria-label="buscar">
    <span class="input-group-addon grey lighten-3" id="basic-addon1"><a><i class="fa fa-search text-grey" aria-hidden="true"></i></a></span>
  </div>
  <hr>
  <div>
    <a class="btn btn-primary pull-right" (click)="refresh()"><i class="fa fa-refresh"></i></a> 
    <br>
    <br>
  </div>

  <div *ngIf="cargando" class="text-center">
    <img src="../../../assets/cargando.gif" height="70" width="70">
    <br>
    Cargando..
</div>

<div class="table-responsive">
  <table class="table table-striped table-hover table-condensed">
      <thead>
        <tr>
          <th>#</th>
          <th>Grupo</th>
          <th>Carrera</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let grupo of grupos; let i = index">
          <td>{{i}}</td>
          <td>{{grupo.group}}</td>
          <td>{{grupo.career}}</td>
          <td><div>
              <a class="btn btn-primary btn-rounded btn-xs" title="Editar" data-toggle="modal" data-target="#myModalEdit" (click)="getGrupo(grupo.key)"><i class="fa fa-pencil"></i></a>
              <a class="btn btn-danger btn-rounded btn-xs" (click)="eliminarGrupo(grupo.key)" title="Eliminar"><i class="fa fa-trash"></i></a>
          </div></td>
        </tr>
      </tbody>
    </table>

</div>
</div>
</div>

<!-- Modal Registro-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title" id="myModalLabel">Registro de Grupos</h3>
      </div>
      <form class="form" #registerForm='ngForm' (ngSubmit)='register(registerForm)'>
      <div class="modal-body">

        <label for="carrera"><strong>Carrera </strong></label>
        <i class="fa fa-check-circle check" *ngIf="carrera.valid"></i>
        <i class="fa fa-exclamation-circle uncheck" *ngIf="carrera.invalid && carrera.touched"></i>
        <select class="form-control" type="text" name="carrera" #carrera="ngModel" [(ngModel)]="objgrupo.idcareer" required>
          <option value="">Seleccione la Carrera...</option>
          <option *ngFor="let carrera of carreras" [value]="carrera.key">{{carrera.career}} </option>
          </select>
        <span class="aler alert-danger" id="alert-msg" *ngIf="!carrera.valid && carrera.touched">Carrera obligatoria</span>
        <br>
        <label for="grupo"><strong>Grupo </strong></label>
        <i class="fa fa-check-circle check" *ngIf="grupo.valid"></i>
        <i class="fa fa-exclamation-circle uncheck" *ngIf="grupo.invalid && grupo.touched"></i>
        <input class="form-control" type="text" name="grupo" #grupo="ngModel" [(ngModel)]="objgrupo.group" required/>
        <span class="aler alert-danger" id="alert-msg" *ngIf="!grupo.valid && grupo.touched">Grupo obligatorio</span>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary" [disabled]="!registerForm.valid" (click)='register(registerForm)' data-dismiss="modal">Guardar</button>
      </div>
    </form>
    </div>
  </div>
</div>

<!-- Modal Edit-->
<div class="modal fade" id="myModalEdit" tabindex="-1" role="dialog" aria-labelledby="myModalLabelEdit">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title" id="myModalLabelEdit">Editar Grupos</h3>
      </div>
      <form class="form" #editForm='ngForm' (ngSubmit)='edit(editForm)'>
      <div class="modal-body">

        <label for="carrera"><strong>Carrera </strong></label>
        <i class="fa fa-check-circle check" *ngIf="carrera.valid"></i>
        <i class="fa fa-exclamation-circle uncheck" *ngIf="carrera.invalid && carrera.touched"></i>
        <select class="form-control" type="text" name="carrera" #carrera="ngModel" [(ngModel)]="objgrupo.idcareer" required>
          <option value="">Seleccione la Carrera...</option>
          <option *ngFor="let carrera of carreras" [value]="carrera.key">{{carrera.career}} </option>
          </select>
        <span class="aler alert-danger" id="alert-msg" *ngIf="!carrera.valid && carrera.touched">Carrera obligatoria</span>
        <br>
        <label for="grupo"><strong>Grupo </strong></label>
        <i class="fa fa-check-circle check" *ngIf="grupo.valid"></i>
        <i class="fa fa-exclamation-circle uncheck" *ngIf="grupo.invalid && grupo.touched"></i>
        <input class="form-control" type="text" name="grupo" #grupo="ngModel" [(ngModel)]="objgrupo.group" required/>
        <span class="aler alert-danger" id="alert-msg" *ngIf="!grupo.valid && grupo.touched">Grupo obligatorio</span>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary" [disabled]="!editForm.valid" (click)='edit(editForm)' data-dismiss="modal">Guardar</button>
      </div>
    </form>
    </div>
  </div>
</div>